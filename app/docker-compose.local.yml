# Yap Unified Application - Local Development Mode
# Use with: docker compose -f docker-compose.yml -f docker-compose.local.yml up -d
#
# This override:
#   - Removes Caddy labels
#   - Publishes ports directly
#   - Uses nginx config for local API proxying
#   - Runs on default network (no external caddy network required)

services:
  yap-app-ui:
    ports:
      - "8080:80"
    volumes:
      - ./ui:/usr/share/nginx/html:ro
      - ./ui/nginx.conf:/etc/nginx/conf.d/default.conf:ro
    labels: []
    networks:
      - default

  whisper-asr:
    ports:
      - "9000:9000"
    labels: []
    networks:
      - default

  piper-tts:
    ports:
      - "5000:5000"
    labels: []
    networks:
      - default

  yap-metrics:
    labels: []
    networks:
      - default

  yap-llm-proxy:
    ports:
      - "8092:8092"
    labels: []
    networks:
      - default

networks:
  caddy:
    external: false
